# HR智能体工作流使用指南

## 📁 工作流文件说明

### 🔄 `src/workflow.py` - 原始工作流
**用途：** 标准串行工作流，适合学习和基准对比
- 结构清晰，易于理解
- 串行执行，稳定可靠
- 适合小规模筛选（1-3个候选人）

**运行命令：**
```bash
uv run python src/workflow.py
```

### 🚀 `src/workflow_optimized.py` - 异步优化工作流 ⭐️
**用途：** 生产环境推荐使用的高性能工作流
- 并行处理需求确认和简历解析
- 多简历并发处理（最多10个）
- 候选人评分并发优化（最多8个）
- 智能超时和降级机制
- **平均性能提升：62.6%**

**运行命令：**
```bash
uv run python src/workflow_optimized.py
```

## 📊 性能对比

| 场景 | 候选人数量 | 原始工作流 | 优化工作流 | 性能提升 | 节省时间 |
|------|-----------|----------|----------|---------|---------|
| 小规模 | 3个 | 131秒 | 77秒 | 41.2% | 54秒 |
| 中规模 | 8个 | 246秒 | 77秒 | 68.7% | 169秒 |
| 大规模 | 15个 | 407秒 | 90秒 | 77.9% | 317秒 |

## 🎯 推荐使用

### ✅ 使用 `workflow_optimized.py` 当：
- 处理多个候选人（≥3个）
- 追求最佳性能
- 生产环境部署
- 大规模简历筛选

### 📚 使用 `workflow.py` 当：
- 学习工作流结构
- 调试和开发
- 需要基准对比
- 简单的单个候选人筛选

## 🔧 配置参数

优化工作流支持以下配置：

```python
optimized_workflow = OptimizedHRAgentWorkflow(
    max_concurrent_resumes=10,      # 简历并发处理数
    max_concurrent_evaluations=8   # 评分并发处理数
)
```

## 💡 使用建议

1. **生产环境**：优先使用 `workflow_optimized.py`
2. **开发调试**：使用 `workflow.py` 进行基础测试
3. **性能测试**：使用内置的性能对比工具
4. **配置调整**：根据服务器性能调整并发参数